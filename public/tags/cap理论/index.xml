<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>CAP理论 on NEXUS | 技术博客</title>
    <link>http://localhost:1313/likeliang-blog/tags/cap%E7%90%86%E8%AE%BA/</link>
    <description>Recent content in CAP理论 on NEXUS | 技术博客</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <lastBuildDate>Thu, 26 Feb 2026 11:14:21 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/likeliang-blog/tags/cap%E7%90%86%E8%AE%BA/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>构建高可用分布式系统：从理论到实践</title>
      <link>http://localhost:1313/likeliang-blog/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</link>
      <pubDate>Thu, 26 Feb 2026 11:14:21 +0800</pubDate>
      <guid>http://localhost:1313/likeliang-blog/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</guid>
      <description>&lt;h2 id=&#34;引言&#34;&gt;引言&lt;/h2&gt;&#xA;&lt;p&gt;在当今互联网时代，分布式系统已经成为支撑大规模应用的核心基础设施。从电商平台的订单系统到社交网络的消息推送，从金融交易系统到物联网平台，分布式系统无处不在。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&amp;ldquo;分布式系统中最重要的问题不是如何让系统运行得更快，而是如何让系统在出现故障时仍能正常运行。&amp;rdquo;&#xA;— 分布式系统设计原则&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;cap理论深度解析&#34;&gt;CAP理论深度解析&lt;/h2&gt;&#xA;&lt;p&gt;CAP理论是分布式系统设计中最基础也是最重要的理论之一。它指出，在一个分布式系统中，以下三个特性最多只能同时满足两个：&lt;/p&gt;&#xA;&lt;h3 id=&#34;consistency一致性&#34;&gt;Consistency（一致性）&lt;/h3&gt;&#xA;&lt;p&gt;所有节点在同一时间看到的数据是一致的。&lt;/p&gt;&#xA;&lt;h3 id=&#34;availability可用性&#34;&gt;Availability（可用性）&lt;/h3&gt;&#xA;&lt;p&gt;每个请求都能在合理时间内得到响应。&lt;/p&gt;&#xA;&lt;h3 id=&#34;partition-tolerance分区容错&#34;&gt;Partition Tolerance（分区容错）&lt;/h3&gt;&#xA;&lt;p&gt;系统在网络分区发生时仍能继续运行。&lt;/p&gt;&#xA;&lt;h2 id=&#34;一致性协议&#34;&gt;一致性协议&lt;/h2&gt;&#xA;&lt;h3 id=&#34;raft协议&#34;&gt;Raft协议&lt;/h3&gt;&#xA;&lt;p&gt;Raft是一种易于理解的一致性算法，它将一致性问题分解为三个相对独立的子问题：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;领导者选举（Leader Election）&lt;/strong&gt; - 当现有领导者失效时，必须选举出新的领导者&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;日志复制（Log Replication）&lt;/strong&gt; - 领导者接收来自客户端的日志条目，并复制到其他服务器&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;安全性（Safety）&lt;/strong&gt; - 确保任何服务器在特定任期内的日志条目都是正确的&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;paxos协议&#34;&gt;Paxos协议&lt;/h3&gt;&#xA;&lt;p&gt;Paxos是分布式一致性算法的鼻祖，分为两个阶段：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;Prepare阶段&lt;/strong&gt; - Proposer选择一个提案编号n，向超过半数的Acceptor发送Prepare请求&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Accept阶段&lt;/strong&gt; - 如果Acceptor响应了Prepare请求，Proposer发送Accept请求&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;故障恢复机制&#34;&gt;故障恢复机制&lt;/h2&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;策略&lt;/th&gt;&#xA;          &lt;th&gt;恢复时间&lt;/th&gt;&#xA;          &lt;th&gt;数据丢失风险&lt;/th&gt;&#xA;          &lt;th&gt;适用场景&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;主从切换&lt;/td&gt;&#xA;          &lt;td&gt;秒级&lt;/td&gt;&#xA;          &lt;td&gt;低&lt;/td&gt;&#xA;          &lt;td&gt;数据库、缓存&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;多活架构&lt;/td&gt;&#xA;          &lt;td&gt;毫秒级&lt;/td&gt;&#xA;          &lt;td&gt;无&lt;/td&gt;&#xA;          &lt;td&gt;关键业务系统&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;冷备恢复&lt;/td&gt;&#xA;          &lt;td&gt;分钟级&lt;/td&gt;&#xA;          &lt;td&gt;中&lt;/td&gt;&#xA;          &lt;td&gt;非关键数据&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;&#xA;&lt;p&gt;构建高可用分布式系统是一项复杂的工程，需要在理论和实践之间找到平衡。核心要点：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;理解CAP理论，根据业务需求在一致性和可用性之间做出选择&lt;/li&gt;&#xA;&lt;li&gt;选择合适的一致性协议，Raft适合大多数场景&lt;/li&gt;&#xA;&lt;li&gt;设计完善的故障恢复机制&lt;/li&gt;&#xA;&lt;li&gt;持续监控和改进&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
  </channel>
</rss>
